<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Academic Expression Learner</title>

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;0,600;0,700;1,400&family=JetBrains+Mono:wght@400;500&family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet" />

  <link rel="stylesheet" href="styles.css" />

  <!-- PDF.js (required by app.js) -->
  <script defer src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>

  <!-- App logic -->
  <script defer src="app.js"></script>
</head>

<body>
  <header>
    <div class="header-content">
      <div>
        <h1 class="logo">Academic<span>.</span>Expression</h1>
        <p class="tagline">좋은 논문에서 학술 글쓰기 표현을 배워보세요</p>
      </div>
    </div>
  </header>

  <main>
    <aside class="sidebar">
      <div class="card">
        <h2 class="card-title">API 설정</h2>
        <div class="api-section">
          <label for="upstage-key">Upstage API Key</label>
          <input type="password" id="upstage-key" placeholder="up_xxxxxxxx" />
          <div class="api-status">
            <span class="status-dot" id="upstage-status"></span>
            <span>OCR + 표현 추출에 사용됩니다</span>
          </div>
        </div>
      </div>

      <div class="card">
        <h2 class="card-title">논문 업로드</h2>

        <div class="upload-zone" id="upload-zone">
          <div class="upload-icon">📄</div>
          <div class="upload-text">
            <strong>PDF 파일을 드래그하거나 클릭하세요</strong>
            영어 논문 PDF 권장
          </div>
          <div class="file-info" id="file-info"></div>
        </div>
        <input type="file" id="file-input" accept=".pdf" />

        <button class="analyze-btn" id="analyze-btn" disabled>분석 시작</button>

        <div class="progress-container" id="progress-container">
          <div class="progress-step" id="step-1">
            <span class="step-indicator">1</span>
            <span>PDF 텍스트 추출 중... (페이지/줄 인덱싱)</span>
          </div>
          <div class="progress-step" id="step-2">
            <span class="step-indicator">2</span>
            <span>학술 표현 분석 중...</span>
          </div>
          <div class="progress-step" id="step-3">
            <span class="step-indicator">3</span>
            <span>결과 정리 중...</span>
          </div>
        </div>

        <div class="error-message" id="error-message" style="display: none;"></div>
      </div>
    </aside>

    <section class="results-section">
      <div class="empty-state" id="empty-state">
        <div class="empty-state-icon">📚</div>
        <h3>분석할 논문을 업로드하세요</h3>
        <p>PDF를 업로드하면 학술 표현을 추출해드립니다</p>
      </div>

      <div id="results-container" style="display: none;">
        <div class="results-header">
          <h2 class="results-title">추출된 표현</h2>
          <div class="export-buttons">
            <button class="export-btn" id="export-anki">Anki 내보내기</button>
            <button class="export-btn" id="export-md">마크다운 내보내기</button>
          </div>
        </div>

        <div class="tabs">
          <button class="tab active" data-tab="expressions">📌 카테고리별 표현</button>
          <button class="tab" data-tab="sentences">📝 문장·숙어 정리</button>
          <button class="tab" data-tab="verbs">📚 학술 동사</button>
          <button class="tab" data-tab="transitions">🔗 연결어</button>
        </div>

        <div id="tab-content"></div>
      </div>
    </section>
  </main>

  <footer>
    <p>Made for researchers who want to write better papers.</p>
    <p>Powered by <a href="https://www.upstage.ai/" target="_blank" rel="noreferrer">Upstage</a></p>
  </footer>
</body>
</html>
